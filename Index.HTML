<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>alvo Clothes</title>
<style>
  body { font-family: Arial,sans-serif; direction: rtl; margin:0; padding:0; background:#fff; color:#222; }
  header {
    position: sticky; top:0; background:#fff; border-bottom:2px solid #004aad;
    display:flex; justify-content: space-between; align-items:center; padding:10px 15px; z-index:100;
  }
  .logo { font-size: 24px; font-weight: bold; color:#004aad; }
  nav button { background:none; border:none; font-size:20px; cursor:pointer; color:#004aad; margin-left:15px; }
  #cart-count {
    background:#004aad; color:#fff; padding:2px 7px; border-radius:50%; font-size:12px;
    min-width:18px; display:inline-block; text-align:center; position: relative; top: -10px; margin-left: 5px;
  }
  main { max-width: 960px; margin: 20px auto; padding: 0 15px 40px; }
  nav.breadcrumb { font-size: 14px; color:#555; margin-bottom: 10px; }
  nav.breadcrumb a { color:#004aad; text-decoration: underline; cursor: pointer; }
  nav.breadcrumb span { margin: 0 10px; }
  h1 { font-weight: 900; margin-bottom: 15px; font-size: 28px; }
  p.description { max-width: 600px; margin-bottom: 25px; font-size: 16px; }
  .controls { display: flex; align-items:center; gap: 20px; margin-bottom: 25px; flex-wrap: wrap; }
  button.filter-sort {
    border: 2px solid #004aad; padding: 10px 16px; font-weight: 700; background: none; color:#004aad;
    border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 6px;
  }
  button.filter-sort:hover { background: #004aad; color: white; }
  label { cursor: pointer; font-size: 14px; }
  input[type="checkbox"] { margin-left: 8px; cursor: pointer; accent-color: #004aad; }
  .products-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(180px,1fr)); gap: 16px;
  }
  .product-card {
    background: #f7f8fa; border-radius: 8px; padding: 12px; cursor: pointer; position: relative;
    transition: box-shadow 0.3s ease;
    display: flex; flex-direction: column;
  }
  .product-card:hover { box-shadow: 0 6px 15px rgba(0,0,0,0.15); }
  .icon-fav, .icon-cart {
    position: absolute; font-size: 22px; cursor: pointer; user-select: none; transition: color 0.3s;
    top: 14px;
  }
  .icon-fav { left: 14px; color: #aaa; }
  .icon-fav.active { color: #e60023; }
  .icon-cart { right: 14px; color: #004aad; }
  .product-img {
    width: 100%; height: 160px; object-fit: contain; border-radius: 5px; background: white;
    margin-bottom: 10px;
  }
  .product-name { font-weight: 700; font-size: 15px; margin-bottom: 6px; min-height: 44px; }
  .product-price { font-weight: 700; color: #004aad; margin-bottom: 6px; }
  .product-info { font-size: 13px; color: #666; }
</style>
</head>
<body>

<header>
  <button id="btn-menu" aria-label="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">&#9776;</button>
  <div class="logo">alvo</div>
  <nav>
    <button id="btn-fav" aria-label="Ø§Ù„Ù…ÙØ¶Ù„Ø©">&#10084;</button>
    <button id="btn-account" aria-label="Ø§Ù„Ø­Ø³Ø§Ø¨">&#128100;</button>
    <button id="btn-search" aria-label="Ø§Ù„Ø¨Ø­Ø«">&#128269;</button>
    <button id="btn-cart" aria-label="Ø§Ù„Ø³Ù„Ø©">ğŸ›’<span id="cart-count">0</span></button>
  </nav>
</header>

<main>
  <nav class="breadcrumb" aria-label="Ù…Ø³Ø§Ø± Ø§Ù„ØªØµÙØ­">
    <a href="#">LIFESTYLE</a><span>/</span><a href="#">Collections</a><span>/</span><span>alvo Clothes</span>
  </nav>

  <h1>alvo HOODIES & PANTS COLLECTION</h1>
  <p class="description">Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ ØªØ´ÙƒÙŠÙ„Ø§Øª Ø§Ù„Ù‡ÙˆØ¯ÙŠØ² ÙˆØ§Ù„Ø¨Ù†Ø§Ø·ÙŠÙ„ Ù…Ù† alvo. Ø±Ø§Ø­Ø© ÙˆØ£Ù†Ø§Ù‚Ø© Ù„ÙƒÙ„ ÙŠÙˆÙ….</p>

  <div class="controls" aria-label="Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ­ÙƒÙ…">
    <button class="filter-sort" id="filter-sort-btn">Filter &amp; Sort âš™ï¸</button>
    <label for="large-image-checkbox">Large Images
      <input type="checkbox" id="large-image-checkbox" aria-label="ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±" />
    </label>
  </div>

  <section class="products-grid" id="products-grid" aria-live="polite" aria-label="Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª">
    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‡Ù†Ø§ -->
  </section>
</main>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<script>
  // Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø®Ø§ØµØ© Ù‡Ù†Ø§ Ù…Ù† Ù…Ø´Ø±ÙˆØ¹ Firebase Ø§Ù„Ø°ÙŠ Ø£Ù†Ø´Ø£ØªÙ‡:
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY_HERE",
    authDomain: "YOUR_AUTHDOMAIN_HERE",
    projectId: "YOUR_PROJECT_ID_HERE",
    storageBucket: "YOUR_STORAGE_BUCKET",
    messagingSenderId: "YOUR_MSG_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  // ØªÙ‡ÙŠØ¦Ø© Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  const auth = firebase.auth();

  const productsGrid = document.getElementById('products-grid');
  const cartCountElem = document.getElementById('cart-count');
  let cartCount = 0;

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Firestore ÙˆØ¹Ø±Ø¶Ù‡Ø§
  function loadProducts() {
    productsGrid.innerHTML = "Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...";
    db.collection("products").get().then((querySnapshot) => {
      productsGrid.innerHTML = "";
      querySnapshot.forEach(doc => {
        const product = doc.data();
        product.id = doc.id;

        const card = document.createElement('article');
        card.className = "product-card";
        card.tabIndex = 0;
        card.setAttribute("role", "button");
        card.setAttribute("aria-label", `Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ ${product.name}`);

        // Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©
        const fav = document.createElement('span');
        fav.className = "icon-fav";
        fav.innerHTML = "â¤";
        fav.title = "Ø¥Ø¶Ø§ÙØ© / Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©";
        fav.onclick = e => {
          e.stopPropagation();
          fav.classList.toggle('active');
        };

        // Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
        const cartBtn = document.createElement('span');
        cartBtn.className = "icon-cart";
        cartBtn.textContent = "ğŸ›’";
        cartBtn.title = `Ø£Ø¶Ù ${product.name} Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©`;
        cartBtn.onclick = e => {
          e.stopPropagation();
          cartCount++;
          cartCountElem.textContent = cartCount;
          alert(`ØªÙ… Ø¥Ø¶Ø§ÙØ© "${product.name}" Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©.`);
          // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† ØªÙˆØ³Ø¹Ø© Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
        };

        const img = document.createElement('img');
        img.className = "product-img";
        img.src = product.image;
        img.alt = product.name;

        const name = document.createElement('div');
        name.className = "product-name";
        name.textContent = product.name;

        const price = document.createElement('div');
        price.className = "product-price";
        price.textContent = `EGP ${product.price.toLocaleString()}.00`;

        const info = document.createElement('div');
        info.className = "product-info";
        info.textContent = `Colors: ${product.colors}`;

        card.appendChild(fav);
        card.appendChild(cartBtn);
        card.appendChild(img);
        card.appendChild(name);
        card.appendChild(price);
        card.appendChild(info);

        // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬ ÙŠÙ…ÙƒÙ† ÙØªØ­ ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ (ØºÙŠØ± Ù…ÙØ¹Ù„Ø© Ù‡Ù†Ø§)
        card.onclick = () => alert(`ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ "${product.name}" ØªØ­Øª Ø§Ù„ØªØ·ÙˆÙŠØ±.`);

        productsGrid.appendChild(card);
      });
    }).catch(err => {
      productsGrid.innerHTML = `<p>Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${err.message}</p>`;
    })
  }

  loadProducts();

  // ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ± Ø¹Ù†Ø¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®ÙŠØ§Ø±
  document.getElementById('large-image-checkbox').addEventListener('change', e => {
    const imgs = document.querySelectorAll('.product-img');
    imgs.forEach(img => {
      img.style.height = e.target.checked ? '250px' : '160px';
    });
  });

  // Ø²Ø± ØªØµÙÙŠØ© ÙˆÙØ±Ø² - Ø±Ø³Ø§Ù„Ø© Ù…Ø¤Ù‚ØªØ©
  document.getElementById('filter-sort-btn').addEventListener('click', () => {
    alert('Ù…ÙŠØ²Ø© Ø§Ù„ØªØµÙÙŠØ© ÙˆØ§Ù„ÙØ±Ø² Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±...');
  });

  // ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ / Ø­Ø³Ø§Ø¨ (Ù…Ø«Ø§Ù„ Ø¨Ø³ÙŠØ·)
  document.getElementById('btn-account').addEventListener('click', () => {
    const email = prompt("Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ");
    const pass = prompt("Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±");
    if(email && pass){
      auth.signInWithEmailAndPassword(email, pass)
        .then(() => alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"))
        .catch((error) => {
          if(error.code === "auth/user-not-found"){
            auth.createUserWithEmailAndPassword(email, pass)
              .then(() => alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"))
              .catch(err => alert("Ø®Ø·Ø£: "+err.message));
          } else alert("Ø®Ø·Ø£: "+error.message);
        });
    }
  });

</script>
</body>
</html>
